<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Lingkun&#39;s Small House</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Lingkun&#39;s Small House">
<meta property="og:url" content="https://ohyoukillkenny.github.io/blog/index.html">
<meta property="og:site_name" content="Lingkun&#39;s Small House">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Lingkun&#39;s Small House">
  
    <link rel="alternate" href="/blog/atom.xml" title="Lingkun&#39;s Small House" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/blog/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">Lingkun&#39;s Small House</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/blog/" id="subtitle">In me the tiger sniffs the rose.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Suche"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://ohyoukillkenny.github.io/blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Solidity学习笔记(1)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/01/01/Solidity学习笔记(1)/" class="article-date">
  <time datetime="2017-12-31T16:00:00.000Z" itemprop="datePublished">2018-01-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/Learn-Solidity/">Learn Solidity</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/01/01/Solidity学习笔记(1)/">Learn Solidity (1) — Ballot</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Solidity学习笔记-1-—-Ballot"><a href="#Solidity学习笔记-1-—-Ballot" class="headerlink" title="Solidity学习笔记(1) — Ballot"></a>Solidity学习笔记(1) — Ballot</h3><p><strong>作者</strong>：孔令坤，<strong>转载请注明出处</strong></p>
<p>最近开始学习Solidity，开始学习写smart contract。今天开始用一个官方提供的投票合同（Ballot Contract）进行第一步的学习。</p>
<p>环境的安装和使用方法这里不做过多的赘述，附上两个链接，大家可以用来参考：</p>
<p>MetaMask配置：<a href="https://karl.tech/learning-solidity-part-1-deploy-a-contract/" target="_blank" rel="noopener">https://karl.tech/learning-solidity-part-1-deploy-a-contract/</a></p>
<p>Solidity配置与运行案例：<a href="https://karl.tech/learning-solidity-part-2-voting/" target="_blank" rel="noopener">https://karl.tech/learning-solidity-part-2-voting/</a></p>
<p>另外附上官方的学习代码链接：<a href="https://solidity.readthedocs.io/en/latest/solidity-by-example.html#voting" target="_blank" rel="noopener">https://solidity.readthedocs.io/en/latest/solidity-by-example.html#voting</a></p>
<h4 id="1-逻辑简介"><a href="#1-逻辑简介" class="headerlink" title="1.逻辑简介"></a>1.逻辑简介</h4><p>如下图所示，整个投票过程中有三个角色，其中ChairMan负责组织投票，而Voters进行投票，Proposals是本次投票中的候选人。其中，Chairman组织投票的方式为指定全部的候选人名单，并逐一赋予候选人们投票的权力。</p>
<p><img src="http://www.z4a.net/images/2018/01/01/12c442bfea71a1a6f.png" alt="Roles"></p>
<p>之后，Voters开始进行投票，他们投票有两种方式，第一种简单明了，Voter直接对心仪的Proposal进行投票。</p>
<p>第二种方式略为复杂，类似于人大代表大会的制度，Voters可以选择信任的Voter(不能是自己)进行委托（delegate），然后由委托人进行再次委托或者直接进行投票，示意图如下图所示。其中白色的字母表示Voter拥有的票数，即官方代码中的<code>weight</code>，而红色的字母是候选人最后获得的票数，即官方代码中的<code>voteCount</code>。</p>
<p><img src="http://www.z4a.net/images/2018/01/01/ballot-voter.png" alt="Voters"></p>
<h4 id="2-代码摘要"><a href="#2-代码摘要" class="headerlink" title="2.代码摘要"></a>2.代码摘要</h4><p><strong>指定候选者名单</strong>：chairperson的初始化和指定候选者的名单是在初始化整个合同的过程中同时进行的，这确保了合同的发起人<code>msg.sender</code>就是本次投票的组织者，chairman。代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Create a new ballot to choose one of `proposalNames`.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Ballot</span>(<span class="params">bytes32[] proposalNames</span>) <span class="title">public</span> </span>&#123;</span><br><span class="line">    chairperson = msg.sender;</span><br><span class="line">    voters[chairperson].weight = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// For each of the provided proposal names,</span></span><br><span class="line">    <span class="comment">// create a new proposal object and add it</span></span><br><span class="line">    <span class="comment">// to the end of the array.</span></span><br><span class="line">    <span class="keyword">for</span> (uint i = <span class="number">0</span>; i &lt; proposalNames.length; i++) &#123;</span><br><span class="line">        <span class="comment">// `Proposal(&#123;...&#125;)` creates a temporary</span></span><br><span class="line">        <span class="comment">// Proposal object and `proposals.push(...)`</span></span><br><span class="line">        <span class="comment">// appends it to the end of `proposals`.</span></span><br><span class="line">        proposals.push(Proposal(&#123;</span><br><span class="line">            name: proposalNames[i],</span><br><span class="line">            voteCount: <span class="number">0</span></span><br><span class="line">        &#125;));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>赋予投票者权力</strong>：而在给予Voters投票权力时，合同则是采用了函数。这时，为了确保只有chairperson可以赋予去权力，官方的代码中使用了Solidity特有的<code>require(arg)</code>写法：如果require函数框内的参数输入为真，函数正常运行；如果输入为假，则终止程序的运行并且返回整个函数，e.g.,<code>giveRightToVote()</code>运行前的状态。</p>
<p>使用require函数的优势在于这样做会比较安全，保证如果程序中某部分运行出错可以退出程序并返回到安全状态，但是同样的，require函数的使用会消耗所有提供的gas。（gas是以太坊中特有的一种概念，用于奖励矿工们对交易进行确认的行为，基本上处理数据量越大的合同，越复杂的合同会消耗越多的gas）</p>
<p>赋予voter权力的代码如下:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Give `voter` the right to vote on this ballot.</span></span><br><span class="line"><span class="comment">// May only be called by `chairperson`.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">giveRightToVote</span>(<span class="params">address voter</span>) <span class="title">public</span> </span>&#123;</span><br><span class="line">    <span class="built_in">require</span>((msg.sender == chairperson) &amp;&amp; !voters[voter].voted &amp;&amp;(voters[voter].weight == <span class="number">0</span>));</span><br><span class="line">    voters[voter].weight = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>投票者直接向候选人投票</strong>：这部分的代码逻辑比较简单，但是值得注意的是，官方代码使用了<code>storage</code>变量的声明。Ethereum Virtual Machine有三个地方用于存储，分别是storage, memory和stack，存储开销依次递减。具体的区别可见<a href="https://ethereum.stackexchange.com/questions/1701/what-does-the-keyword-memory-do-exactly" target="_blank" rel="noopener">链接</a>。但是需要注意的是，本地的一些变量如<code>struct</code>, <code>array</code> 或者 <code>mapping</code> 会自动被存储在storage中。在代码中，官方使用storage变量的声明做代码简化，即当用storage申明了<code>sender</code>后，之后对<code>sender</code>各项属性的赋值会直接写入storage中，而不用每次都做<code>voters[msg.sender].voted = true</code>此类操作：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Give your vote (including votes delegated to you)</span></span><br><span class="line"><span class="comment">/// to proposal `proposals[proposal].name`.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">vote</span>(<span class="params">uint proposal</span>) <span class="title">public</span> </span>&#123;</span><br><span class="line">    <span class="comment">// assigns reference</span></span><br><span class="line">    Voter storage sender = voters[msg.sender];</span><br><span class="line">    <span class="built_in">require</span>(!sender.voted);</span><br><span class="line">    sender.voted = <span class="literal">true</span>;</span><br><span class="line">    sender.vote = proposal;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// If `proposal` is out of the range of the array,</span></span><br><span class="line">    <span class="comment">// this will throw automatically and revert all</span></span><br><span class="line">    <span class="comment">// changes.</span></span><br><span class="line">    proposals[proposal].voteCount += sender.weight;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>投票者通过委托进行投票</strong>：如果你理解了在逻辑简介中图例的思想，这部分的代码很容易看懂。简单来说，Voters通过选择委托人，然后通过while循环一路找到最终的委托人，之后将自己的票给到这个最终的委托人手中，由他进行操作。需要注意的是在Solidity的编程中对while语句的使用一定要小心，防止有长时间的循环导致block中的gas耗尽，程序无法得到执行。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Delegate your vote to the voter `to`.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">delegate</span>(<span class="params">address to</span>) <span class="title">public</span> </span>&#123;</span><br><span class="line">    Voter storage sender = voters[msg.sender];</span><br><span class="line">    <span class="built_in">require</span>(!sender.voted);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Self-delegation is not allowed.</span></span><br><span class="line">    <span class="built_in">require</span>(to != msg.sender);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (voters[to].delegate != address(<span class="number">0</span>)) &#123;</span><br><span class="line">        to = voters[to].delegate;</span><br><span class="line">        <span class="comment">// We found a loop in the delegation, not allowed.</span></span><br><span class="line">        <span class="built_in">require</span>(to != msg.sender);</span><br><span class="line">    &#125;</span><br><span class="line">    sender.voted = <span class="literal">true</span>;</span><br><span class="line">    sender.delegate = to;</span><br><span class="line">    Voter storage delegate = voters[to];</span><br><span class="line">    <span class="keyword">if</span> (delegate.voted) &#123;</span><br><span class="line">        <span class="comment">// If the delegate already voted,</span></span><br><span class="line">        <span class="comment">// directly add to the number of votes</span></span><br><span class="line">        proposals[delegate.vote].voteCount += sender.weight;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// If the delegate did not vote yet,</span></span><br><span class="line">        <span class="comment">// add to her weight.</span></span><br><span class="line">        delegate.weight += sender.weight;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>统计胜者</strong>：最后就是简单的对所有候选人的票数进行统计，然后得到最终的胜者。需用注意的是在函数后面跟着一个<code>view</code>，它的用法详见<a href="https://github.com/ethereum/solidity/issues/992" target="_blank" rel="noopener">链接</a>。代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// @dev Computes the winning proposal taking all</span></span><br><span class="line"><span class="comment">/// previous votes into account.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">winningProposal</span>(<span class="params"></span>) <span class="title">public</span> <span class="title">view</span></span></span><br><span class="line"><span class="function">        <span class="title">returns</span> (<span class="params">uint winningProposal</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    uint winningVoteCount = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (uint p = <span class="number">0</span>; p &lt; proposals.length; p++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (proposals[p].voteCount &gt; winningVoteCount) &#123;</span><br><span class="line">            winningVoteCount = proposals[p].voteCount;</span><br><span class="line">            winningProposal = p;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Calls winningProposal() function to get the index</span></span><br><span class="line"><span class="comment">// of the winner contained in the proposals array and then</span></span><br><span class="line"><span class="comment">// returns the name of the winner</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">winnerName</span>(<span class="params"></span>) <span class="title">public</span> <span class="title">view</span></span></span><br><span class="line"><span class="function">        <span class="title">returns</span> (<span class="params">bytes32 winnerName</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    winnerName = proposals[winningProposal()].name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="对官方代码的优化"><a href="#对官方代码的优化" class="headerlink" title="对官方代码的优化"></a>对官方代码的优化</h4><p>官方的代码中存有两个值得改进的地方，第一在于并没有设置整个投票过程中的时长，讲道理一个规范的投票需要投票发起人指定一个投票的进行时长，超过这个时间后，就无法进行继续投票。第二在于代码没有考虑平票的情况。基于这两个问题，我对官方的代码进行了简单的优化，优化的结果放在下面的链接中，另外之后我的一些笔记会陆续放到下面的链接中：</p>
<p><a href="https://github.com/Ohyoukillkenny/Learn-Solidity" target="_blank" rel="noopener">https://github.com/Ohyoukillkenny/Learn-Solidity</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ohyoukillkenny.github.io/blog/01/01/Solidity学习笔记(1)/" data-id="cjbx780c00000b4avfh92vzgi" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-打底裤和荷尔蒙" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/01/28/打底裤和荷尔蒙/" class="article-date">
  <time datetime="2017-01-27T16:00:00.000Z" itemprop="datePublished">2017-01-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/articles/">articles</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/01/28/打底裤和荷尔蒙/">打底裤和荷尔蒙</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>第一篇影评送给Take the Lead中老师教导学生探戈的片段。这也是我心目中所有看过的电影里可以排进前五的一段舞蹈。</strong></p>
<p>说起电影中的舞蹈的佳作，其实有很多。每一个男人心中，都希望能有一个能和他一起不顾众人目光，纵情跳着兔子舞的米亚；上校牵起佳人的纤手，尽管已经盲目，却在探戈中更能体会佳人的羞涩动人；芳芳对着镜子纵情狂欢，尽显青春的活泼和清纯的魅力；配着爵士乐 －－ Down in Mexico，美女朝大叔跳起贴面舞，微微鼓起的肚囊让人欲罢不能（<a href="https://www.youtube.com/watch?v=T1T8iZn6tzU" target="_blank" rel="noopener">Death Proof</a>，个人也超喜欢这段）；美国往事中，少女在面包的粉尘之中，翩翩起舞，宛若仙女下凡 ……</p>
<p>然而，我心中的最经典的舞曲，却一直留给Take the ead中这段惊艳了青春的探戈。</p>
<p>这部电影作为宣扬美国主旋律的青春歌舞片，其实从故事角度而言，电影的情节略显单薄。故事的承起转折，略有些生硬和俗套 －－ 主要讲了一个教师通过教导学生跳交际舞，从而将这些“不良少年”感化，将他们重新拉上了人生的正轨。这些学生都是“街舞少年”，在国内就是大名鼎鼎的“葬爱家族”里的成员。原来他们只喜欢跳街舞，喜欢在Pop和Rap的旋律中乱扭，而认为交际舞特别无聊，一点都不够酷炫。影片中的这段探戈，就是教师用于吸引这些“街舞少年”投入交际舞的怀抱的工具。（确实成功了，反正我看到我也会想去学）</p>
<p>当时，这个电影片段出现于我高中的音乐课。我记得老师是为了介绍“探戈”这个经典的舞蹈形式，然后放了这部电影给我们看。当时我就震惊了。说实话，就像是电影中的那个黑人小哥看到这段舞时情不自禁的吼出来的 just getting his flirt on。确实，这段舞更像是情人之间的调情，点燃了高中时我们无处安放的荷尔蒙。我印象特别深刻，当时观看这段舞的时候，已经下课了，但是全班的所有人都盯着视频看，没有一个人想要离开，或者发出声音。教室里除了舞曲的鼓点和下课的铃声，恐怕也就只剩下我们咽口水的声音了。</p>
<p>学习的时间很枯燥，也很漫长。所有人都拼命着压抑着野蛮生长的荷尔蒙，抵挡着各种奇形怪状的思绪带来的干扰，埋头学习，努力地往前冲冲冲。而这段舞蹈却像是一个有魔力的炸弹，点燃了所有人的荷尔蒙。反正我是记得，有人直接放声地说了出来－－“万恶的安全裤”然后一片哄笑，众人面红耳赤，窃窃私语，漏出燥热而意味深长的笑容。</p>
<p>探戈起源于情人之间的秘密舞蹈。传说中男士跳舞时都佩带着短刀。现在虽已不佩带短刀，但舞蹈者必须表情严肃，提防被人发现的表情。然而这种表情的严肃，配上激情四溢的舞曲动作，更体现出一种反差与冲突之美，恰似在压抑中燃烧的荷尔蒙。（不知道为什么，跳舞跳着，两个人都想把对方吃掉（；￣ェ￣），不敢看）</p>
<p>需要注意的是，这里其实男主原来并不会跳探戈。导演特意特意请了专业舞蹈演员（女）教导男主学习探戈，并在短短一周内，两人磨合出了这段令人惊艳的舞蹈。（默默吐槽一下，毕竟看男主大家都只看脸）当然这也归功于优秀的摄影和剪辑。明亮的光线从窗外泻入，使得画面简明而动感。摄像机剪辑女舞者婀娜的身姿以及翩飞的舞步，更显探戈抓人的魅力。此外，影片对传统的Asi Se Baila El Tango（著名探戈舞曲）进行了改编，加入了鼓点，钢琴以及人声，使得舞蹈的表现显得更为有力。</p>
<p>总而言之，这部电影并不是一部剧情感人至深的佳作，影片本身并不能给舞蹈添色。所以很多人眼中可能这段舞蹈并不能摘得心目中影史最佳舞蹈的桂冠。但是，这段舞蹈对于我而言，并不仅仅只是一段舞，或者是一段优秀的电影片段，它还是我压抑里，躁动的青春。</p>
<p>想要从油管看这个舞蹈，请戳<a href="https://www.youtube.com/watch?v=6lAKlYTQVKY" target="_blank" rel="noopener">我</a>。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ohyoukillkenny.github.io/blog/01/28/打底裤和荷尔蒙/" data-id="cjbx780cl0004b4avywgjddvp" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-silly-lottery" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/01/27/silly-lottery/" class="article-date">
  <time datetime="2017-01-27T05:32:57.000Z" itemprop="datePublished">2017-01-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/01/27/silly-lottery/">silly-lottery</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>愚蠢的一个年会抽奖系统，花了两个小时，然而一点都不智能。但是好想要红包。</p>
<p>戳两下初始化，戳第一次选择桌号。</p>
<p>再戳一下选择座位号。</p>
<p>戳<a href="/blog/01/27/silly-lottery/new.html" title="我">我</a>可以进入demo哟。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ohyoukillkenny.github.io/blog/01/27/silly-lottery/" data-id="cjbx780ci0003b4avcugdj60h" class="article-share-link">Teilen</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/code-tools/">code tools</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/01/16/hello-world/" class="article-date">
  <time datetime="2017-01-15T16:00:00.000Z" itemprop="datePublished">2017-01-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/articles/">articles</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/01/16/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p><em>In me the cave-man clasps the seer,</em></p>
<p><em>And garlanded Apollo goes</em></p>
<p><em>Chanting to Abraham’s deaf ear.</em></p>
<p><em>In me the tiger sniffs the rose.</em></p>
</blockquote>
<p>Hello, my name is Kong Lingkun.</p>
<p>From long times ago, when lying in bed, I was tortured by a weird feeling that I had to do something about myself, something announcing my existence in the world, both phisically and mentally, otherwise I would be swallowed by the abyss of loneliness and confusion. And soon, I realized that what I should do was to follow the voice from innermost of my body and soul – I had to write something down to avoid burying my thoughts and youth into the dust of time. And that is why this website or blog exists.</p>
<p>This website mainly records my coding experience and my personal understanding about movies, fictions and music. And actually, I believe most of them will be written in Chinese.</p>
<p>In this website, I hope I can learn and grow up with all of you.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ohyoukillkenny.github.io/blog/01/16/hello-world/" data-id="cjbx780c70001b4avikpdwa0j" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-silly-lottery/default" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/03/07/silly-lottery/default/" class="article-date">
  <time datetime="2013-03-07T12:55:56.000Z" itemprop="datePublished">2013-03-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        /* General Demo Style */
@import url(http://fonts.googleapis.com/css?family=Lato:300,400,700);

html { height: 100%; }

*,
*:after,
*:before {
	-webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
	padding: 0;
	margin: 0;
}

/* Clearfix hack by Nicolas Gallagher: http://nicolasgallagher.com/micro-clearfix-hack/ */
.clearfix:before,
.clearfix:after {
    content: " ";
    display: table;
}

.clearfix:after {
    clear: both;
}

.clearfix {
    *zoom: 1;
}

body {
    font-family: 'Lato', Calibri, Arial, sans-serif;
    background: #f9f9f9;
    font-weight: 300;
    font-size: 15px;
    color: #333;
    overflow: scroll;
    overflow-x: hidden;
}

a {
	color: #555;
	text-decoration: none;
}

.container {
	width: 100%;
	position: relative;
}

.main,
.container > header {
	width: 90%;
	max-width: 1000px;
	margin: 0 auto;
	position: relative;
	padding: 0 30px 50px 30px;
}

.container > header {
	padding: 30px;
}

.container > header h1 {
	font-size: 34px;
	line-height: 38px;
	margin: 0;
	font-weight: 700;
	color: #333;
	float: left;
}

.container > header h1 span {
	display: block;
	font-size: 20px;
	font-weight: 300;
}

/* Header Style */
.codrops-top {
	line-height: 24px;
	font-size: 11px;
	background: #fff;
	background: rgba(255, 255, 255, 0.5);
	text-transform: uppercase;
	z-index: 9999;
	position: relative;
	box-shadow: 1px 0px 2px rgba(0,0,0,0.2);
}

.codrops-top a {
	padding: 0px 10px;
	letter-spacing: 1px;
	color: #333;
	display: inline-block;
}

.codrops-top a:hover {
	background: rgba(255,255,255,0.8);
	color: #000;
}

.codrops-top span.right {
	float: right;
}

.codrops-top span.right a {
	float: left;
	display: block;
}

/* Demo Buttons Style */
.codrops-demos {
	float: right;
	padding-top: 10px;
}

.codrops-demos a {
    display: inline-block;
    margin: 10px;
    color: #666;
    font-weight: 700;
    line-height: 30px;
    border-bottom: 4px solid transparent;
}

.codrops-demos a:hover {
	color: #000;
	border-color: #000;
}

.codrops-demos a.current-demo,
.codrops-demos a.current-demo:hover {
	color: #aaa;
	border-color: #aaa;
}

.support-note {
	clear: both;
}

.support-note span{
	color: #ac375d;
	font-size: 16px;
	display: none;
	font-weight: bold;
	text-align: center;
	padding: 5px 0;
}
      
    </div>
    <footer class="article-footer">
      <a data-url="https://ohyoukillkenny.github.io/blog/03/07/silly-lottery/default/" data-id="cjbx780eb000cb4avlkucfyy9" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-silly-lottery/new" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/03/07/silly-lottery/new/" class="article-date">
  <time datetime="2013-03-07T05:45:07.000Z" itemprop="datePublished">2013-03-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <title>Lottery System, Developed by Lingkun Kong</title>
        <meta name="description" content="Lottery System, Developed by Lingkun Kong">
        <meta name="keywords" content="hexaflip, 3d cube, css3 javascript, plugin, perspective, rotation, transition">
        <meta name="author" content="Dan Motzenbecker for Codrops">
        <link rel="shortcut icon" href="../favicon.ico">
        <link rel="stylesheet" type="text/css" href="default.css">
        <link href="hexaflip.css" rel="stylesheet" type="text/css">
        <link href="demo.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <div class="container">
            <!-- Codrops top bar -->
            <!-- <div class="codrops-top clearfix">
                <a href="http://tympanus.net/Tutorials/InteractiveSVG/"><strong>&laquo; Previous Demo: </strong>Interactive SVG Infographic</a>
                <span class="right"><a href="http://tympanus.net/codrops/?p=14452"><strong>Back to the Codrops Article</strong></a></span>
            </div> -->
            <header class="clearfix">
                <h1>上海温州青联学创联<span style="text-align:center">初五年会抽奖 ⊙ω⊙</span></h1>
            </header>
            <div class="main">
                <div id="hexaflip-demo3" class="demo"></div>
                <div id="choose-time">
                    <span id="set-button">Shot It</span>
                </div>
            </div>
        </div>
    <script src="hexaflip.js"></script>
    <script>
        var hexaDemo3;
        document.addEventListener('DOMContentLoaded', function(){
            hexaDemo3 = new HexaFlip(document.getElementById('hexaflip-demo3'));

            setTimeout(function(){
                hexaDemo3.setValue({ hour: '--', minute: 'Hi', meridian: '--' });
            }, 1);

            var flag = 0;
            var temptable, tempguest;
            // function selectTable(){
            //     temptable = Math.floor(Math.random() * 16) + 1 + '';
            //     return temptable;
            // }
            // function selectGuest(){
            //     tempguest = Math.floor(Math.random() * 10) + 1 + '';
            //     return tempguest;
            // }

            document.getElementById('set-button').addEventListener('click', function(){
                var time;
                time = {hour : '--', minute : '--',meridian : '--'}
                switch(flag)
                {
                    case 0: 
                        flag = 1; 
                        break;
                    case 1: 
                        flag = 2; 
                        temptable = Math.floor(Math.random() * 16) + 1 + '';
                        time = {hour : temptable, minute : '--',meridian : '--'};
                        break;
                    case 2: 
                        flag = 3;
                        tempguest = Math.floor(Math.random() * 11) + 1 + '';
                        time = {hour : temptable, minute : '--',meridian : tempguest};
                        break;
                    case 3: 
                        flag = 1; 
                        time = {hour : '--', minute : '--',meridian : '--'}; 
                        break;
                    default: break;
                }
                hexaDemo3.setValue(time);
            });
        }, false);

    </script>
    </body>
</html>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://ohyoukillkenny.github.io/blog/03/07/silly-lottery/new/" data-id="cjbx79kgk000jb4avwvnvfqom" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-silly-lottery/demo" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/03/07/silly-lottery/demo/" class="article-date">
  <time datetime="2013-03-06T22:46:04.000Z" itemprop="datePublished">2013-03-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        #choose-time {
  margin: 80px auto;
  width: 300px;
  text-align: center;
}
#set-button,
#submit {
  background-color: #888;
  color: #fff;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  padding: 2px 6px;
  padding-bottom: 4px;
  cursor: pointer;
  margin-left: 5px;
  opacity: 0.95;
  filter: alpha(opacity=95);
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=95)";
  font-size: 20px;
}
#set-button:hover,
#submit:hover {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}
.demo {
  margin: 0 auto;
  -webkit-filter: drop-shadow(30px 30px 23px rgba(0,0,0,0.3));
  -moz-filter: drop-shadow(30px 30px 23px rgba(0,0,0,0.3));
  filter: drop-shadow(30px 30px 23px rgba(0,0,0,0.3));
}
#hexaflip-demo1,
#hexaflip-demo2 {
  margin-bottom: 4rem;
}
#hexaflip-demo1 .hexaflip-cube,
#hexaflip-demo2 .hexaflip-cube {
  opacity: 0.9;
  filter: alpha(opacity=90);
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
}
#hexaflip-demo1 .hexaflip-cube .hexaflip-left,
#hexaflip-demo2 .hexaflip-cube .hexaflip-left,
#hexaflip-demo1 .hexaflip-cube .hexaflip-right,
#hexaflip-demo2 .hexaflip-cube .hexaflip-right {
  background-color: #222 !important;
}
#hexaflip-demo1 .hexaflip-cube > div,
#hexaflip-demo2 .hexaflip-cube > div {
  font-weight: 100;
  text-shadow: none;
}
#hexaflip-demo1 .hexaflip-cube > div:nth-child(1n+1),
#hexaflip-demo2 .hexaflip-cube > div:nth-child(1n+1) {
  background-color: #069ad5;
}
#hexaflip-demo1 .hexaflip-cube > div:nth-child(2n+2),
#hexaflip-demo2 .hexaflip-cube > div:nth-child(2n+2) {
  background-color: #fc5215;
}
#hexaflip-demo1 .hexaflip-cube > div:nth-child(3n+3),
#hexaflip-demo2 .hexaflip-cube > div:nth-child(3n+3) {
  background-color: #30b71d;
}
#hexaflip-demo1 .hexaflip-cube > div:nth-child(4n+4),
#hexaflip-demo2 .hexaflip-cube > div:nth-child(4n+4) {
  background-color: #eee;
  color: #222;
}
#hexaflip-demo2 {
  margin-bottom: 6rem;
}
#hexaflip-demo5 .hexaflip-cube > div {
  color: rgba(255,255,255,0.3);
  font-weight: 900 !important;
  letter-spacing: -3px;
  text-shadow: none;
}
#hexaflip-demo5 + div {
  margin-top: 80px;
  text-align: center;
}
.buttons {
  position: relative;
  top: 230px;
  width: 640px;
  margin: 0 auto;
  z-index: 100;
}
.disc-button {
  background-color: #222;
  color: #fff;
  text-align: center;
  width: 30px;
  height: 30px;
  -webkit-border-radius: 100%;
  border-radius: 100%;
  font-weight: 100;
  font-size: 24px;
  cursor: pointer;
}
.disc-button:hover {
  opacity: 0.8;
  filter: alpha(opacity=80);
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
}
#prev {
  float: left;
}
#next {
  float: right;
}
#output {
  line-height: 2;
}

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ohyoukillkenny.github.io/blog/03/07/silly-lottery/demo/" data-id="cjbx780ee000eb4avsmzjobqb" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-silly-lottery/demo" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/03/07/silly-lottery/demo/" class="article-date">
  <time datetime="2013-03-06T22:46:04.000Z" itemprop="datePublished">2013-03-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        #choose-time {
  margin: 80px auto;
  width: 300px;
  text-align: center;
}
#set-button,
#submit {
  background-color: #888;
  color: #fff;
  border-radius: 3px;
  padding: 2px 6px;
  padding-bottom: 4px;
  cursor: pointer;
  margin-left: 5px;
  opacity: 0.95;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=95)";
  filter: alpha(opacity=95);
  font-size: 20px;
}
#set-button:hover,
#submit:hover {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}
.demo {
  margin: 0 auto;
  -webkit-filter: drop-shadow(30px 30px 23px rgba(0,0,0,0.3));
  -moz-filter: drop-shadow(30px 30px 23px rgba(0,0,0,0.3));
  filter: drop-shadow(30px 30px 23px rgba(0,0,0,0.3));
}
#hexaflip-demo1,
#hexaflip-demo2 {
  margin-bottom: 4rem;
}
#hexaflip-demo1 .hexaflip-cube,
#hexaflip-demo2 .hexaflip-cube {
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}
#hexaflip-demo1 .hexaflip-cube .hexaflip-left,
#hexaflip-demo2 .hexaflip-cube .hexaflip-left,
#hexaflip-demo1 .hexaflip-cube .hexaflip-right,
#hexaflip-demo2 .hexaflip-cube .hexaflip-right {
  background-color: #222 !important;
}
#hexaflip-demo1 .hexaflip-cube > div,
#hexaflip-demo2 .hexaflip-cube > div {
  font-weight: 100;
  text-shadow: none;
}
#hexaflip-demo1 .hexaflip-cube > div:nth-child(1n+1),
#hexaflip-demo2 .hexaflip-cube > div:nth-child(1n+1) {
  background-color: #069ad5;
}
#hexaflip-demo1 .hexaflip-cube > div:nth-child(2n+2),
#hexaflip-demo2 .hexaflip-cube > div:nth-child(2n+2) {
  background-color: #fc5215;
}
#hexaflip-demo1 .hexaflip-cube > div:nth-child(3n+3),
#hexaflip-demo2 .hexaflip-cube > div:nth-child(3n+3) {
  background-color: #30b71d;
}
#hexaflip-demo1 .hexaflip-cube > div:nth-child(4n+4),
#hexaflip-demo2 .hexaflip-cube > div:nth-child(4n+4) {
  background-color: #eee;
  color: #222;
}
#hexaflip-demo2 {
  margin-bottom: 6rem;
}
#hexaflip-demo5 .hexaflip-cube > div {
  color: rgba(255,255,255,0.3);
  font-weight: 900 !important;
  letter-spacing: -3px;
  text-shadow: none;
}
#hexaflip-demo5 + div {
  margin-top: 80px;
  text-align: center;
}
.buttons {
  position: relative;
  top: 230px;
  width: 640px;
  margin: 0 auto;
  z-index: 100;
}
.disc-button {
  background-color: #222;
  color: #fff;
  text-align: center;
  width: 30px;
  height: 30px;
  border-radius: 100%;
  font-weight: 100;
  font-size: 24px;
  cursor: pointer;
}
.disc-button:hover {
  opacity: 0.8;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
  filter: alpha(opacity=80);
}
#prev {
  float: left;
}
#next {
  float: right;
}
#output {
  line-height: 2;
}

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ohyoukillkenny.github.io/blog/03/07/silly-lottery/demo/" data-id="cjbx780ed000db4avkpvm1ruh" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-silly-lottery/hexaflip" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/03/07/silly-lottery/hexaflip/" class="article-date">
  <time datetime="2013-03-06T22:26:10.000Z" itemprop="datePublished">2013-03-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        // Generated by CoffeeScript 1.6.1
(function() {
  var baseName, className, css, cssClass, defaults, faceNames, faceSequence, prefixList, prefixProp, prop, urlRx, _i, _len, _ref, _ref1,
    _this = this;

  baseName = 'hexaFlip';

  className = baseName[0].toUpperCase() + baseName.slice(1);

  prefixList = ['webkit', 'Moz', 'O', 'ms'];

  prefixProp = function(prop) {
    var prefix, prefixed, _i, _len;
    if (document.body.style[prop.toLowerCase()] != null) {
      return prop.toLowerCase();
    }
    for (_i = 0, _len = prefixList.length; _i < _len; _i++) {
      prefix = prefixList[_i];
      prefixed = prefix + prop;
      if (document.body.style[prefixed] != null) {
        return prefixed;
      }
    }
    return false;
  };

  css = {};

  _ref = ['Transform', 'Perspective'];
  for (_i = 0, _len = _ref.length; _i < _len; _i++) {
    prop = _ref[_i];
    css[prop.toLowerCase()] = prefixProp(prop);
  }

  defaults = {
    size: 200,
    margin: 10,
    fontSize: 120,
    perspective: 1000,
    touchSensitivity: 1
  };

  cssClass = baseName.toLowerCase();

  faceNames = ['front', 'bottom', 'back', 'top', 'left', 'right'];

  faceSequence = faceNames.slice(0, 4);

  urlRx = /^((((https?)|(file)):)?\/\/)|(data:)|(\.\.?\/)/i;

  window.HexaFlip = (function() {

    function HexaFlip(el, sets, options) {
      var cube, cubeFragment, i, image, key, midPoint, option, set, setsKeys, setsLength, val, value, z, _j, _len1, _ref1, _ref2,
        _this = this;
      this.el = el;
      this.sets = sets;
      this.options = options != null ? options : {};
      this._onMouseOut = function(e, cube) {
        return HexaFlip.prototype._onMouseOut.apply(_this, arguments);
      };
      if (!(css.transform && this.el)) {
        return;
      }
      for (option in defaults) {
        value = defaults[option];
        this[option] = (_ref1 = this.options[option]) != null ? _ref1 : defaults[option];
      }
      if (typeof this.fontSize === 'number') {
        this.fontSize += 'px';
      }
      if (!this.sets) {
        this.el.classList.add(cssClass + '-timepicker');
        this.sets = {
          hour: (function() {
            var _j, _results;
            _results = [];
            for (i = _j = 1; _j <= 2="" 16;="" i="++_j)" {="" _results.push(i="" +="" '');="" }="" _results.push('--');="" return="" _results;="" })(),="" minute:="" (function()="" var="" _j,="" _results="[];" for="" (i="_j" =="" 1;="" _j="" <="10;" minute="" :="" ['--','hi'],="" meridian:="" ['1st',="" '2nd'="" ,="" '3rd',="" '--']="" })()="" };="" setskeys="Object.keys(this.sets);" setslength="setsKeys.length;" cubefragment="document.createDocumentFragment();" 0;="" midpoint="setsLength" this.cubes="{};" _ref2="this.sets;" (key="" in="" _ref2)="" set="_ref2[key];" cube="this.cubes[key]" this._createcube(key);="" if="" (++i="" midpoint)="" z++;="" else="" z--;="" cube.el.style.zindex="z;" this._setcontent(cube.front,="" set[0]);="" cubefragment.appendchild(cube.el);="" (_j="0," _len1="set.length;" _len1;="" _j++)="" val="set[_j];" (urlrx.test(val))="" image="new" image;="" image.src="val;" this.cubes[setskeys[0]].el.style.marginleft="0" ;="" this.cubes[setskeys[setskeys.length="" -="" 1]].el.style.marginright="0" this.el.classlist.add(cssclass);="" this.el.style.height="this.size" 'px';="" this.el.style.width="((this.size" this.margin="" *="" 2)="" setslength)="" this.el.style[css.perspective]="this.perspective" this.el.appendchild(cubefragment);="" hexaflip.prototype._createcube="function(set)" cube,="" estring,="" eventpair,="" eventpairs,="" mouseleavesupport,="" rotate3d,="" side,="" _fn,="" _k,="" _l,="" _len1,="" _len2,="" _len3,="" _this="this;" set:="" set,="" offset:="" 0,="" y1:="" ydelta:="" ylast:="" el:="" document.createelement('div')="" cube.el.classname="" cssclass="" "-cube="" "="" "-cube-"="" set;="" cube.el.style.margin="0 " "px";="" cube.el.style.width="cube.el.style.height" this.size="" cube.el.style[css.transform]="this._getTransform(0);" side="faceNames[_j];" cube[side]="document.createElement('div');" cube[side].classname="cssClass" '-'="" side;="" rotate3d="(function()" switch="" (side)="" case="" 'front':="" '0,="" 0deg';="" 'back':="" '1,="" 180deg';="" 'top':="" 90deg';="" 'bottom':="" -90deg';="" 'left':="" 1,="" 'right':="" })();="" cube[side].style[css.transform]="rotate3d(" ")="" translate3d(0,="" (this.size="" "px)";="" cube[side].style.fontsize="this.fontSize;" cube.el.appendchild(cube[side]);="" eventpairs="[['TouchStart'," 'mousedown'],="" ['touchmove',="" 'mousemove'],="" ['touchend',="" 'mouseup'],="" ['touchleave',="" 'mouseleave']];="" mouseleavesupport="onmouseleave" window;="" (_k="0," _len2="eventPairs.length;" _k="" _len2;="" _k++)="" eventpair="eventPairs[_k];" _fn="function(fn," cube)="" (!((estring="==" 'touchleave'="" ||="" estring="==" 'mouseleave')="" &&="" !mouseleavesupport))="" cube.el.addeventlistener(estring.tolowercase(),="" (function(e)="" _this[fn](e,="" cube);="" }),="" true);="" cube.el.addeventlistener('mouseout',="" _this._onmouseout(e,="" (_l="0," _len3="eventPair.length;" _l="" _len3;="" _l++)="" _fn('_on'="" eventpair[0],="" this._setsides(cube);="" cube;="" hexaflip.prototype._gettransform="function(deg)" "translatez(-"="" "px)="" rotatex("="" deg="" "deg)";="" hexaflip.prototype._setcontent="function(el," content)="" key,="" style,="" val,="" value;="" (!(el="" content))="" return;="" (typeof="" content="==" 'object')="" style="content.style," value="content.value;" style)="" el.style[key]="val;" (urlrx.test(value))="" el.innerhtml="" el.style.backgroundimage="url(" ")";="" hexaflip.prototype._setsides="function(cube)" bottomadj,="" faceoffset,="" offset,="" setlength,="" setoffset,="" topadj;="" cube.offset="offset" math.floor(cube.ydelta="" 90);="" (offset="==" cube.lastoffset)="" cube.lastoffset="faceOffset" setoffset="offset;" setlength="set.length;" 0)="" faceoffset="setOffset" ++offset;="" (-offset=""> setLength) {
            setOffset = setLength - -offset % setLength;
            if (setOffset === setLength) {
              setOffset = 0;
            }
          } else {
            setOffset = setLength + offset;
          }
          if (-offset > 4) {
            faceOffset = 4 - -offset % 4;
            if (faceOffset === 4) {
              faceOffset = 0;
            }
          } else {
            faceOffset = 4 + offset;
          }
        }
      }
      if (setOffset >= setLength) {
        setOffset %= setLength;
      }
      if (faceOffset >= 4) {
        faceOffset %= 4;
      }
      topAdj = faceOffset - 1;
      bottomAdj = faceOffset + 1;
      if (topAdj === -1) {
        topAdj = 3;
      }
      if (bottomAdj === 4) {
        bottomAdj = 0;
      }
      this._setContent(cube[faceSequence[topAdj]], set[setOffset - 1] || set[setLength - 1]);
      return this._setContent(cube[faceSequence[bottomAdj]], set[setOffset + 1] || set[0]);
    };

    HexaFlip.prototype._onTouchStart = function(e, cube) {
      e.preventDefault();
      cube.touchStarted = true;
      e.currentTarget.classList.add('no-tween');
      if (e.type === 'mousedown') {
        return cube.y1 = e.pageY;
      } else {
        return cube.y1 = e.touches[0].pageY;
      }
    };

    HexaFlip.prototype._onTouchMove = function(e, cube) {
      if (!cube.touchStarted) {
        return;
      }
      e.preventDefault();
      cube.diff = (e.pageY - cube.y1) * this.touchSensitivity;
      cube.yDelta = cube.yLast - cube.diff;
      return this._setSides(cube);
    };

    HexaFlip.prototype._onTouchEnd = function(e, cube) {
      var mod;
      cube.touchStarted = false;
      mod = cube.yDelta % 90;
      if (mod < 45) {
        cube.yLast = cube.yDelta + mod;
      } else {
        if (cube.yDelta > 0) {
          cube.yLast = cube.yDelta + mod;
        } else {
          cube.yLast = cube.yDelta - (90 - mod);
        }
      }
      if (cube.yLast % 90 !== 0) {
        cube.yLast -= cube.yLast % 90;
      }
      cube.el.classList.remove('no-tween');
      return cube.el.style[css.transform] = this._getTransform(cube.yLast);
    };

    HexaFlip.prototype._onTouchLeave = function(e, cube) {
      if (!cube.touchStarted) {
        return;
      }
      return this._onTouchEnd(e, cube);
    };

    HexaFlip.prototype._onMouseOut = function(e, cube) {
      if (!cube.touchStarted) {
        return;
      }
      if (e.toElement && !cube.el.contains(e.toElement)) {
        return this._onTouchEnd(e, cube);
      }
    };

    HexaFlip.prototype.setValue = function(settings) {
      var cube, index, key, value, _results;
      _results = [];
      for (key in settings) {
        value = settings[key];

        // document.write(value);
        if (!(this.sets[key] && !this.cubes[key].touchStarted)) {
          continue;
        }
        value = value.toString();
        cube = this.cubes[key];
        index = this.sets[key].indexOf(value);
        cube.yDelta = cube.yLast = 90 * index;
        this._setSides(cube);
        _results.push(this._setContent(cube[faceSequence[index % 4]], value));
      }
      return _results;
    };

    HexaFlip.prototype.getValue = function() {
      var cube, offset, set, setLength, _ref1, _results;
      _ref1 = this.cubes;
      _results = [];
      for (set in _ref1) {
        cube = _ref1[set];
        set = this.sets[set];
        setLength = set.length;
        offset = cube.yLast / 90;
        if (offset < 0) {
          if (-offset > setLength) {
            offset = setLength - -offset % setLength;
            if (offset === setLength) {
              offset = 0;
            }
          } else {
            offset = setLength + offset;
          }
        }
        if (offset >= setLength) {
          offset %= setLength;
        }
        if (typeof set[offset] === 'object') {
          _results.push(set[offset].value);
        } else {
          _results.push(set[offset]);
        }
      }
      return _results;
    };

    HexaFlip.prototype.flip = function(back) {
      var cube, delta, set, _ref1, _results;
      delta = back ? -90 : 90;
      _ref1 = this.cubes;
      _results = [];
      for (set in _ref1) {
        cube = _ref1[set];
        if (cube.touchStarted) {
          continue;
        }
        cube.yDelta = cube.yLast += delta;
        _results.push(this._setSides(cube));
      }
      return _results;
    };

    HexaFlip.prototype.flipBack = function() {
      return this.flip(true);
    };

    return HexaFlip;

  })();

  if ((window.jQuery != null) || (((_ref1 = window.$) != null ? _ref1.data : void 0) != null)) {
    $.fn.hexaFlip = function(sets, options) {
      var args, el, instance, methodName, _j, _k, _len1, _len2;
      if (!css.transform) {
        return this;
      }
      if (typeof sets === 'string') {
        methodName = sets;
        if (typeof HexaFlip.prototype[methodName] !== 'function') {
          return this;
        }
        for (_j = 0, _len1 = this.length; _j < _len1; _j++) {
          el = this[_j];
          if (!(instance = $.data(el, baseName))) {
            return;
          }
          args = Array.prototype.slice.call(arguments);
          args.shift();
          instance[methodName](args);
        }
        return this;
      } else {
        for (_k = 0, _len2 = this.length; _k < _len2; _k++) {
          el = this[_k];
          if (instance = $.data(el, baseName)) {
            return instance;
          } else {
            $.data(el, baseName, new HexaFlip(el, sets, options));
          }
        }
      }
    };
  }

}).call(this);
</=>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://ohyoukillkenny.github.io/blog/03/07/silly-lottery/hexaflip/" data-id="cjbx780eh000gb4avssj5hmci" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-silly-lottery/hexaflip" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/03/07/silly-lottery/hexaflip/" class="article-date">
  <time datetime="2013-03-06T20:46:49.000Z" itemprop="datePublished">2013-03-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        .hexaflip-cube {
  font-family: 'Helvetica Neue', Arial, Helvetica, sans-serif;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  cursor: move;
  cursor: -webkit-grab;
  cursor: -moz-grab;
  display: inline-block;
  position: relative;
  -webkit-transform-style: preserve-3d;
  -moz-transform-style: preserve-3d;
  -o-transform-style: preserve-3d;
  -ms-transform-style: preserve-3d;
  transform-style: preserve-3d;
  -webkit-transition: -webkit-transform 0.4s;
  -moz-transition: -moz-transform 0.4s;
  -o-transition: -o-transform 0.4s;
  -ms-transition: -ms-transform 0.4s;
  transition: transform 0.4s;
}
.hexaflip-cube.no-tween {
  -webkit-transition-duration: 0;
  -moz-transition-duration: 0;
  -o-transition-duration: 0;
  -ms-transition-duration: 0;
  transition-duration: 0;
}
.hexaflip-cube > div {
  width: 100%;
  overflow: hidden;
  height: 100.5%;
  position: absolute;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-background-size: cover;
  -moz-background-size: cover;
  background-size: cover;
  text-align: center;
  background-color: #333;
  color: #fff;
  font-weight: 100;
  text-shadow: 0 -2px 0 rgba(0,0,0,0.2);
  line-height: 1.5;
}
.hexaflip-left,
.hexaflip-right {
  background-color: #555 !important;
}
.hexaflip-timepicker .hexaflip-cube:last-child > div:nth-child(odd) {
  background-color: #ff575b;
}

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ohyoukillkenny.github.io/blog/03/07/silly-lottery/hexaflip/" data-id="cjbx780ef000fb4av6jbohdrg" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/blog/page/2/">2</a><a class="extend next" rel="next" href="/blog/page/2/">weiter &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Kategorien</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Learn-Solidity/">Learn Solidity</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/articles/">articles</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/code-tools/">code tools</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/blog/tags/code-tools/" style="font-size: 10px;">code tools</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2013/03/">March 2013</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/01/01/Solidity学习笔记(1)/">Learn Solidity (1) — Ballot</a>
          </li>
        
          <li>
            <a href="/blog/01/28/打底裤和荷尔蒙/">打底裤和荷尔蒙</a>
          </li>
        
          <li>
            <a href="/blog/01/27/silly-lottery/">silly-lottery</a>
          </li>
        
          <li>
            <a href="/blog/01/16/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/blog/03/07/silly-lottery/default/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Lingkun Kong<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js"></script>



  </div>
</body>
</html>